# Perfectly Balanced Ship Sections - Corvette Sections
# 3-tier system: Common (default), Advanced (tech-locked), Pro (high-tier/player-only)

# ===== TIER 1: COMMON SECTIONS (Unlock by default) =====

# Enhanced Combat Section - Versatile general combat
ship_section_template = {
	key = "PBSS_CORVETTE_MID_COMBAT"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { gunship artillery brawler }

	possible = {
		is_ai = no  # PLAYER ONLY
	}

	ai_weight = {
		factor = 0.0
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "small_turret"
		locatorname = "small_gun_02"
	}

	component_slot = {
		name = "SMALL_GUN_03"
		template = "small_turret"
		locatorname = "small_gun_03"
	}

	small_utility_slots = 3
	aux_utility_slots = 1

	resources = {
		category = ship_sections
		cost = {
			alloys = 35
		}
	}
}

# Strike Craft Carrier Section - Corvette carrier variant
ship_section_template = {
	key = "PBSS_CORVETTE_MID_STRIKE"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { carrier }

	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	component_slot = {
		name = "HANGAR_01"
		template = "small_hangar"
		locatorname = "small_gun_01"
	}

	small_utility_slots = 0
	aux_utility_slots = 1

	resources = {
		category = ship_sections
		cost = {
			alloys = 40
		}
	}
}

# Support Section - Defensive/utility focused
ship_section_template = {
	key = "PBSS_CORVETTE_MID_SUPPORT"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { screen }

	ai_weight = {
		modifier = {
			factor = 8.0
			is_ai = yes
		}
		modifier = {
			factor = 0.5
			is_ai = no
		}
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "point_defence_turret"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "point_defence_turret"
		locatorname = "small_gun_02"
	}

	component_slot = {
		name = "SMALL_GUN_03"
		template = "small_turret"
		locatorname = "small_gun_03"
	}

	small_utility_slots = 4
	aux_utility_slots = 1

	resources = {
		category = ship_sections
		cost = {
			alloys = 30
		}
	}
}

# Artillery Section - Long-range focused
ship_section_template = {
	key = "PBSS_CORVETTE_MID_ARTILLERY"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { artillery }

	ai_weight = {
		modifier = {
			factor = 10.0
			has_technology = tech_mass_drivers_1
			has_technology = tech_railguns_1
		}
		modifier = {
			factor = 0.3
			NOR = {
				has_technology = tech_mass_drivers_1
				has_technology = tech_railguns_1
			}
		}
	}

	component_slot = {
		name = "MEDIUM_GUN_01"
		template = "medium_turret"
		locatorname = "medium_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "small_turret"
		locatorname = "small_gun_02"
	}

	small_utility_slots = 3
	aux_utility_slots = 1

	resources = {
		category = ship_sections
		cost = {
			alloys = 45
		}
	}
}

# ===== TIER 2: ADVANCED SECTIONS (Technology requirements) =====

# Fusion-Powered Corvette Section - Early energy weapon advantage with strike craft
ship_section_template = {
	key = "PBSS_CORVETTE_MID_FUSION"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { carrier artillery }

	prerequisites = { "tech_fusion_power" "tech_strike_craft_1" }

	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	component_slot = {
		name = "HANGAR_01"
		template = "small_hangar"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "HANGAR_02"
		template = "small_hangar"
		locatorname = "small_gun_02"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_03"
	}

	small_utility_slots = 5
	aux_utility_slots = 2

	ship_modifier = {
		ship_hyperlane_range_add = 2
		survey_speed = 0.3
		ship_weapon_damage_mult = 0.1
		ship_shield_regen_add_perc = 0.15
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 75
		}
	}
}

# Nanocomposite Explorer Corvette - Ultimate early exploration with large guns
ship_section_template = {
	key = "PBSS_CORVETTE_MID_EXPLORER"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { artillery brawler }

	prerequisites = { "tech_nanocomposite_materials" "tech_destroyers" }

	ai_weight = {
		modifier = {
			factor = 12.0
			is_ai = yes
			has_ai_personality = erudite_explorers
		}
		modifier = {
			factor = 1.0
			is_ai = yes
		}
	}

	component_slot = {
		name = "MEDIUM_GUN_01"
		template = "medium_turret"
		locatorname = "medium_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "small_turret"
		locatorname = "small_gun_02"
	}

	small_utility_slots = 6
	aux_utility_slots = 2

	ship_modifier = {
		survey_speed = 0.5
		ship_hyperlane_range_add = 3
		anomaly_research_speed = 0.25
		ship_hull_add = 20
		ship_weapon_damage_mult = 0.15
		ship_evasion_add = 10
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 85
		}
	}
}

# Standardized Utility Corvette - Uses "useless" build speed tech for max utility
ship_section_template = {
	key = "PBSS_CORVETTE_MID_STANDARDIZED"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { gunship artillery carrier }

	prerequisites = { "tech_corvette_build_speed" "tech_strike_craft_3" }

	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	component_slot = {
		name = "HANGAR_01"
		template = "small_hangar"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_02"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "small_turret"
		locatorname = "small_gun_03"
	}

	small_utility_slots = 7
	aux_utility_slots = 3

	ship_modifier = {
		ship_hull_regen_add_perc = 0.5
		ship_repair_mult = 0.3
		sensor_range_mult = 0.25
		ship_hyperlane_range_add = 1
		ship_evasion_add = 5
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 80
		}
	}
}

# ===== TIER 3: PRO SECTIONS (High-tier tech, difficult requirements, player-only) =====

# Advanced Combat Corvette - PLAYER ONLY ULTRA OP section with large guns
ship_section_template = {
	key = "PBSS_CORVETTE_MID_ADVANCED"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { gunship artillery brawler }

	prerequisites = { "tech_corvette_hull_2" "tech_repeatable_weapon_type_explosive_fire_rate" }

	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	component_slot = {
		name = "LARGE_GUN_01"
		template = "large_turret"
		locatorname = "large_gun_01"
	}

	component_slot = {
		name = "MEDIUM_GUN_01"
		template = "medium_turret"
		locatorname = "medium_gun_01"
	}

	small_utility_slots = 1
	aux_utility_slots = 1

	ship_modifier = {
		ship_weapon_damage_mult = 0.4
		ship_fire_rate_mult = 0.25
		ship_evasion_add = 15
		ship_armor_add = 25
		ship_shield_add = 50
		ship_hull_add = 40
		ship_weapon_range_mult = 0.2
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 120
		}
	}
}

# Advanced Hull Corvette - Uses highest "useless" hull tech for ultimate tank
ship_section_template = {
	key = "PBSS_CORVETTE_MID_ADVANCED_HULL"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { brawler screen }

	prerequisites = { "tech_corvette_hull_2" "tech_destroyers" "tech_cruisers" }

	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "point_defence_turret"
		locatorname = "small_gun_02"
	}

	small_utility_slots = 6
	aux_utility_slots = 2

	ship_modifier = {
		ship_hull_add = 100
		ship_armor_add = 60
		ship_shield_add = 40
		ship_hull_regen_add_perc = 1.0
		ship_armor_regen_add_perc = 0.8
		ship_shield_regen_add_perc = 0.5
		ship_evasion_add = 12
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 110
		}
	}
}

# ===== ULTRA SECTIONS (High-Tier Tech, Massive Power) =====

# Fusion-Powered Corvette Section - Early energy weapon advantage with strike craft
ship_section_template = {
	key = "PBSS_CORVETTE_MID_FUSION"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { carrier artillery }

	prerequisites = { "tech_fusion_power" "tech_strike_craft_1" }

	# PLAYER ONLY - Ultra exploration carrier
	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	# Early strike craft access: 2 small hangars (1L = 1HB, but early access)
	component_slot = {
		name = "HANGAR_01"
		template = "small_hangar"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "HANGAR_02"
		template = "small_hangar"
		locatorname = "small_gun_02"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_03"
	}

	# Enhanced utility for strike craft maintenance
	small_utility_slots = 5
	aux_utility_slots = 2

	# Major exploration and combat bonuses
	ship_modifier = {
		ship_hyperlane_range_add = 2
		survey_speed = 0.3
		ship_weapon_damage_mult = 0.1
		ship_shield_regen_add_perc = 0.15
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 75
		}
	}
}

# Nanocomposite Explorer Corvette - Ultimate early exploration with large guns
ship_section_template = {
	key = "PBSS_CORVETTE_MID_EXPLORER"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { artillery brawler }

	prerequisites = { "tech_nanocomposite_materials" "tech_destroyers" }

	# PLAYER ONLY - Early large guns on corvettes
	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	# Early large gun access: 1 medium turret (2S = 1M balance, but early)
	component_slot = {
		name = "MEDIUM_GUN_01"
		template = "medium_turret"
		locatorname = "medium_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "small_turret"
		locatorname = "small_gun_02"
	}

	# Maximum utility for exploration
	small_utility_slots = 6
	aux_utility_slots = 2

	# Ultimate exploration bonuses + combat power
	ship_modifier = {
		survey_speed = 0.5
		ship_hyperlane_range_add = 3
		anomaly_research_speed = 0.25
		ship_hull_add = 20
		ship_weapon_damage_mult = 0.15
		ship_evasion_add = 10
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 85
		}
	}
}

# Advanced Combat Corvette - PLAYER-ONLY ULTRA OP section with large guns
ship_section_template = {
	key = "PBSS_CORVETTE_MID_ADVANCED"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { gunship artillery brawler }

	prerequisites = { "tech_corvette_hull_2" "tech_repeatable_weapon_type_explosive_fire_rate" }

	# AI CANNOT BUILD THIS SECTION - PURE PLAYER ADVANTAGE
	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0  # AI never chooses this
	}

	# Ultra weapon layout: 1 large turret (2M = 1L, very early access) + 1 medium turret
	component_slot = {
		name = "LARGE_GUN_01"
		template = "large_turret"
		locatorname = "large_gun_01"
	}

	component_slot = {
		name = "MEDIUM_GUN_01"
		template = "medium_turret"
		locatorname = "medium_gun_01"
	}

	# Minimal utility for maximum firepower
	small_utility_slots = 1
	aux_utility_slots = 1

	# MASSIVE combat bonuses - this corvette hits like a destroyer
	ship_modifier = {
		ship_weapon_damage_mult = 0.4
		ship_fire_rate_mult = 0.25
		ship_evasion_add = 15
		ship_armor_add = 25
		ship_shield_add = 50
		ship_hull_add = 40
		ship_weapon_range_mult = 0.2
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 120
		}
	}
}

# Zero-Point Corvette Section - Ultimate defense with strike craft
ship_section_template = {
	key = "PBSS_CORVETTE_MID_ZEROPOINT"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { carrier brawler }

	prerequisites = { "tech_zero_point_power" "tech_strike_craft_2" }

	# PLAYER ONLY - Ultra defensive carrier
	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	# Strike craft + defense focus
	component_slot = {
		name = "HANGAR_01"
		template = "small_hangar"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "HANGAR_02"
		template = "small_hangar"
		locatorname = "small_gun_02"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "point_defence_turret"
		locatorname = "small_gun_03"
	}

	# Enhanced utility for strike craft and defense
	small_utility_slots = 4
	aux_utility_slots = 2

	# Massive defensive bonuses
	ship_modifier = {
		ship_shield_add = 75
		ship_armor_add = 40
		ship_hull_add = 25
		ship_shield_regen_add_perc = 0.4
		ship_armor_regen_add_perc = 0.3
		ship_evasion_add = 8
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 95
		}
	}
}

# Standardized Corvette Section - Uses "useless" build speed tech for OP utility
ship_section_template = {
	key = "PBSS_CORVETTE_MID_STANDARDIZED"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { gunship artillery carrier }

	prerequisites = { "tech_corvette_build_speed" "tech_strike_craft_3" }

	ai_weight = {
		modifier = {
			factor = 16.0
			is_ai = yes
		}
		modifier = {
			factor = 0.8
			is_ai = no
		}
	}

	# Maximum versatility: strike craft + guns
	component_slot = {
		name = "HANGAR_01"
		template = "small_hangar"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_02"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "small_turret"
		locatorname = "small_gun_03"
	}

	# Maximum utility slots - the "useless" tech now gives amazing utility
	small_utility_slots = 7
	aux_utility_slots = 3

	# Utility-focused bonuses (repair, sensors, etc.)
	ship_modifier = {
		ship_hull_regen_add_perc = 0.5
		ship_repair_mult = 0.3
		sensor_range_mult = 0.25
		ship_hyperlane_range_add = 1
		ship_evasion_add = 5
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 80
		}
	}
}

# Improved Hull Corvette - Uses "useless" hull tech for massive survivability
ship_section_template = {
	key = "PBSS_CORVETTE_MID_IMPROVED_HULL"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { brawler artillery }

	prerequisites = { "tech_corvette_hull_1" "tech_repeatable_weapon_type_kinetic_damage" }

	# PLAYER ONLY - Ultra tanky corvette
	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	# Balanced weapons with focus on durability
	component_slot = {
		name = "MEDIUM_GUN_01"
		template = "medium_turret"
		locatorname = "medium_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "point_defence_turret"
		locatorname = "small_gun_02"
	}

	# Good utility balance
	small_utility_slots = 4
	aux_utility_slots = 1

	# Massive durability bonuses - the "useless" hull tech now matters
	ship_modifier = {
		ship_hull_add = 60
		ship_armor_add = 30
		ship_hull_regen_add_perc = 0.6
		ship_armor_regen_add_perc = 0.4
		ship_weapon_damage_mult = 0.1
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 90
		}
	}
}

# Advanced Hull Corvette - Uses highest "useless" hull tech for ultimate tank
ship_section_template = {
	key = "PBSS_CORVETTE_MID_ADVANCED_HULL"
	ship_size = corvette
	fits_on_slot = mid
	should_draw_components = yes
	entity = "corvette_S3_entity"
	icon = "GFX_ship_part_core_mid"

	ai_tags = { brawler screen }

	prerequisites = { "tech_corvette_hull_2" "tech_destroyers" "tech_cruisers" }

	# PLAYER ONLY - Mega tank corvette
	possible = {
		is_ai = no
	}

	ai_weight = {
		factor = 0.0
	}

	# Minimal weapons for maximum tankiness
	component_slot = {
		name = "SMALL_GUN_01"
		template = "small_turret"
		locatorname = "small_gun_01"
	}

	component_slot = {
		name = "SMALL_GUN_02"
		template = "point_defence_turret"
		locatorname = "small_gun_02"
	}

	# Reduced weapons for maximum utility and defense
	small_utility_slots = 6
	aux_utility_slots = 2

	# ULTIMATE survivability - the most tanky corvette ever
	ship_modifier = {
		ship_hull_add = 100
		ship_armor_add = 60
		ship_shield_add = 40
		ship_hull_regen_add_perc = 1.0
		ship_armor_regen_add_perc = 0.8
		ship_shield_regen_add_perc = 0.5
		ship_evasion_add = 12
	}

	resources = {
		category = ship_sections
		cost = {
			alloys = 110
		}
	}
}